{% load i18n %}
{% load  static %}
{% load jsonify %}
{#% load app_filters %}

{% block content_dashboard %}
    <div>
        {% include "dashboard/select_region.html" %}
    </div>
    <div class="row">
        <div class="col-lg-3 d-flex grid-margin stretch-card">
            <div class="card sale-diffrence-border">
                <div class="card-body">
                    <h2 class="text-dark mb-2 font-weight-bold">6475</h2>
                    <h4 class="card-title mb-2">{% trans "Total Incidents" %}</h4>
                    <small class="text-muted">APRIL 2020</small>
                </div>
            </div>
        </div>
        <div class="col-lg-3 d-flex grid-margin stretch-card">
            <div class="card sale-visit-statistics-border">
                <div class="card-body">
                    <h2 class="text-dark mb-2 font-weight-bold">3479</h2>
                    <h4 class="card-title mb-2">{% trans "Total Killed" %}</h4>
                    <small class="text-muted">APRIL 2020</small>
                </div>
            </div>
        </div>
        <div class="col-lg-3 d-flex grid-margin stretch-card">
            <div class="card sale-diffrence-border">
                <div class="card-body">
                    <h2 class="text-dark mb-2 font-weight-bold">6475</h2>
                    <h4 class="card-title mb-2">{% trans "Total Injured" %}</h4>
                    <small class="text-muted">APRIL 2020</small>
                </div>
            </div>
        </div>
        <div class="col-lg-3 d-flex grid-margin stretch-card">
            <div class="card sale-visit-statistics-border">
                <div class="card-body">
                    <h2 class="text-dark mb-2 font-weight-bold">3479</h2>
                    <h4 class="card-title mb-2">{% trans "Total Abducted" %}</h4>
                    <small class="text-muted">APRIL 2020</small>
                </div>
            </div>
        </div>

        <div class="col-lg-6 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">{% trans "Graph of Incident and Casualties Trend by Incident Type" %}</h4>
                    <!-- <div id="chart_polar_graph_of_incident_and_casualties_trend_by_incident_type" class="ch-size polar-chart" data-color="colorSecurity" data-xaxis='["Armed Opposition Group", "Civilians", "Government", "Humanitarian Community", "Infrastructure", "International Humanitarian Community", "International Military", "Police / Military Government", "Unknown"]' data-val='[{"data": [845, 764, 695, 70, 15, 11, 18, 5311, 66], "type": "Incidents"}, {"data": [55, 929, 373, 97, 17, 7, 16, 4660, 7], "type": "Dead"}, {"data": [], "type": "Injured"}, {"data": [], "type": "Violent"}]'></div> -->
                    <div id="{{ chart.polar_incident_type.key }}" class="ch-size polar-chart" data-color="colorSecurity" data-xaxis='{{ chart.polar_incident_type.labels | jsonify }}' data-val='{{ chart.polar_incident_type.data_val | jsonify }}'></div>
                </div>
            </div>
        </div>

        <div class="col-lg-6 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">{% trans "Select Incident Type" %}</h4>
                    <form>
                        <div class="custom-control custom-switch">
                            <input type="checkbox" class="custom-control-input" id="switch1">
                            <label class="custom-control-label" for="switch1">{% trans "Select All" %}</label>
                        </div>
                        {% get_current_language_bidi as LANGUAGE_BIDI %}
                        <div id="indicatorType" class="row no-margin child-checkbox">
                            {% for item in row.0.labels_all %}
                                <div class="col s12 {{ LANGUAGE_BIDI | yesno:'rtl, ltr' }}">
                                    <label>
                                        <input type="checkbox" id="{{ row.4 }}{{ forloop.counter0 }}" class="filled-in checkIncident" name="main_{{ row.4 }}_select[]" value="{{ item.name }}" {% if item.selected %}checked=true{% endif %}>
                                        <span>{{ item.name }} ({{ item.count }} incidents)</span>
                                    </label>
                                </div>
                            {% endfor %}
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-lg-12 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">{% trans "Historical Date of Incidents and Casualties by Incident Type" %}</h4>
                    <!-- <div id="spline_{{ row.2.key }}" class="ch-size spline-chart" data-color="colorDefault" data-colorpoint="false" data-legend="true" data-yaxis='' data-val='[{"data": [[1393682400000, 2684], [1388509200000, 920]], "name": "Dead"}, {"data": [[1483232400000, 2684], [1586228551979, 920]], "name": "Injured"}]' ></div> -->
                    <div id="spline_{{ chart.spline.key }}" class="ch-size spline-chart" data-color="colorDefault" data-colorpoint="false" data-legend="true" data-yaxis='' data-val='{{ chart.spline.data_val | jsonify }}' ></div>
                </div>
            </div>
        </div>

        <div class="col-lg-12 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Description Table</h4>
                    <p class="card-description">
                        Add description
                    </p>
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover {% if 'print' in request.build_absolute_uri %}print{% else %}online{% endif %}">
                            <thead>
                                <tr>
                                    <th>{% trans "Incident Type" %}</th>
                                    <th>{% trans "Police District" %}</th>
                                    <th>{% trans "Initiator" %}</th>
                                    <th>{% trans "Target" %}</th>
                                    <th>{% trans "Killed" %}</th>
                                    <th>{% trans "Injured" %}</th>
                                    <th>{% trans "Abducted" %}</th>
                                    <th>{% trans "Incident" %}</th>
                                    <th>{% trans "HPA" %}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>{% trans "AOG_Attack" %}</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                {% for item in tables.incidents_and_casualties_by_incident_type %}
                                    <tr>
                                        <td>{{ item.0 }}</td>
                                        <td>{{ item.1 }}</td>
                                        <td>{{ item.2 }}</td>
                                        <td>{{ item.3 }}</td>
                                        <td>{{ item.4 }}</td>
                                        <td>{{ item.5 }}</td>
                                        <td>{{ item.6 }}</td>
                                        <td>{{ item.7 }}</td>
                                        <td>{{ item.8 }}</td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-12 grid-margin stretch-card d-none">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Description Table Killed</h4>
                    <p class="card-description">
                        Add description
                    </p>
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th rowspan="3">{% trans "Incident Type" %}</th>
                                    <th rowspan="3">{% trans "Incident Sub Type" %}</th>
                                    <th colspan="7">{% trans "Killed" %}</th>
                                </tr>
                                <tr>
                                    <th>{% trans "Civilians" %}</th>
                                    <th>{% trans "ANP" %}</th>
                                    <th>{% trans "ANA/ANSF" %}</th>
                                    <th>{% trans "IM" %}</th>
                                    <th>{% trans "PGM/ALP" %}</th>
                                    <th>{% trans "AOG" %}</th>
                                    <th>{% trans "ISKP" %}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>{% trans "AOG_Attack" %}</td>
                                    <td>{% trans "Checkpoint Attack" %}</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-12 grid-margin stretch-card d-none">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Description Table Injured</h4>
                    <p class="card-description">
                        Add description
                    </p>
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th rowspan="3">{% trans "Incident Type" %}</th>
                                    <th rowspan="3">{% trans "Incident Sub Type" %}</th>
                                    <th colspan="7">{% trans "Injured" %}</th>
                                </tr>
                                <tr>
                                    <th>{% trans "Civilians" %}</th>
                                    <th>{% trans "ANP" %}</th>
                                    <th>{% trans "ANA/ANSF" %}</th>
                                    <th>{% trans "IM" %}</th>
                                    <th>{% trans "CDF/ATM/ALP" %}</th>
                                    <th>{% trans "AOG" %}</th>
                                    <th>{% trans "ISKP" %}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Jacob</td>
                                    <td>Photoshop</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-12 grid-margin stretch-card d-none">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Description Table Killed</h4>
                    <p class="card-description">
                        Add description
                    </p>
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th rowspan="3">{% trans "Incident Type" %}</th>
                                    <th rowspan="3">{% trans "Incident Sub Type" %}</th>
                                    <th colspan="5">{% trans "Abducted" %}</th>
                                </tr>
                                <tr>
                                    <th>{% trans "Civilians" %}</th>
                                    <th>{% trans "Field30" %}</th>
                                    <th>{% trans "ANA/ANSF" %}</th>
                                    <th>{% trans "Field32" %}</th>
                                    <th>{% trans "PGM/ALP" %}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Jacob</td>
                                    <td>Photoshop</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-12 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">{% trans "Number of Incident and Casualties Overview" %}</h4>
                    <div class="table-responsive">
                        <table id="" class="table table-bordered table-hover {% if 'print' in request.build_absolute_uri %}print{% else %}online{% endif %}">
                            <thead>
                                <tr>
                                    <th >{% trans "Region" %}</th>
                                    <th class="hum">{% trans "Incidents" %}</th>
                                    <th class="hum">{% trans "Abducted" %}</th>
                                    <th class="hum">{% trans "Injured" %}</th>
                                    <th class="hum">{% trans "Killed" %}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    {% for parent in tables.number_of_incident_and_casualties_overview.parentdata %}
                                        <td class="boldRow">{{parent}}</td>
                                    {% endfor %}
                                </tr>
                                {% for child in tables.number_of_incident_and_casualties_overview.child %}
                                    <tr class="selectable" onclick="jump_url({{data.code}});">
                                        {% for item in child.value %}
                                            <td>{{item}}</td>
                                        {% endfor %}
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-12 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">{% trans "List of Incidents" %}</h4>
                    <p class="card-description">
                        Add description
                    </p>
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover {% if 'print' in request.build_absolute_uri %}print{% else %}online{% endif %}">
                            <thead>
                                <tr>
                                    <th>{% trans "Date" %}</th>
                                    <th>{% trans "Time of Incident" %}</th>
                                    <th>{% trans "Description" %}</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in tables.list_of_latest_incidents %}
                                    <tr>
                                        <td>{{ item.0 |date:'M j, Y' }}</td>
                                        <td>{{ item.1 }}</td>
                                        <td>{{ item.2 }}</td>
                                    </tr>
                                {% endfor %}
                                <tr>
                                    <td>Jacob</td>
                                    <td>Photoshop</td>
                                    <td>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Dicta, quia. Recusandae, distinctio? Numquam, aliquam harum? Asperiores porro doloribus pariatur aspernatur quasi illo? Molestias commodi voluptatum ex doloribus tempore voluptas mollitia!</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock content_dashboard %}

{% block dashboard_script %}
    
{% endblock dashboard_script %}